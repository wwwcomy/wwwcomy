<?xml version="1.0" encoding="UTF-8"?>
<process-definition name="spcglc2"><swimlane name="starter" xmlns="urn:jbpm.org:jpdl-3.1"><assignment class="haiyan.wfe.jbpm.handler.WfeAssignmentHandler"><handlerClassName>haiyan.wfe.jbpm.WfeStarter</handlerClassName></assignment></swimlane><start-state name="Start"><task swimlane="starter" xmlns="urn:jbpm.org:jpdl-3.1"/><transition id="024209da-e94c-4412-861c-e190d5490bf3" name="024209da-e94c-4412-861c-e190d5490bf3" to="Decision"/></start-state><task-node name="采购经理审批"><event type="node-enter"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeActionQZ</handlerClassName><handlerSettings><entry><key>transitionmap</key><value>[{'name':'719b9e93-7999-432d-ad7e-e44a4568a0ba','code':'719b9e93-7999-432d-ad7e-e44a4568a0ba','to':'确认入库','btname':'Commit'}]</value></entry></handlerSettings></action></event><event type="node-leave"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeExpression</handlerClassName><handlerSettings><entry><key>expression</key><value>wfe_dbUpdate(wfe_setValue(wfe_getForm(),STATUS,&quot;3&quot;))</value></entry></handlerSettings></action></event><task xmlns="urn:jbpm.org:jpdl-3.1"><assignment class="haiyan.wfe.jbpm.WfeAssignmentQZ"><expression>${shenpijuese}1,d1f40e41-283c-45e4-874c-e58619e657bb${#}admin(admin),采购经理(cgjl)${/shenpijuese}${shifouhuiqian}0${/shifouhuiqian}${kejianhuiqianyijian}0${/kejianhuiqianyijian}${express_nodeleave}wfe_dbUpdate(wfe_setValue(wfe_getForm(),STATUS,&quot;3&quot;))${/express_nodeleave}${chajianchengxu_before}${/chajianchengxu_before}${banlishixian}${/banlishixian}${chajianchengxu}${/chajianchengxu}</expression></assignment></task><transition id="719b9e93-7999-432d-ad7e-e44a4568a0ba" name="719b9e93-7999-432d-ad7e-e44a4568a0ba" to="确认入库"/></task-node><task-node name="普通采购确认"><event type="node-enter"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeActionQZ</handlerClassName><handlerSettings><entry><key>transitionmap</key><value>[{'name':'e180954a-5695-4cd3-9645-2748ae155365','code':'e180954a-5695-4cd3-9645-2748ae155365','to':'确认入库','btname':'Commit'}]</value></entry></handlerSettings></action></event><event type="node-leave"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeExpression</handlerClassName><handlerSettings><entry><key>expression</key><value>wfe_dbUpdate(wfe_setValue(wfe_getForm(),STATUS,&quot;3&quot;))</value></entry></handlerSettings></action></event><task xmlns="urn:jbpm.org:jpdl-3.1"><assignment class="haiyan.wfe.jbpm.WfeAssignmentQZ"><expression>${shenpijuese}1${#}admin(admin)${/shenpijuese}${shifouhuiqian}0${/shifouhuiqian}${kejianhuiqianyijian}0${/kejianhuiqianyijian}${express_nodeleave}wfe_dbUpdate(wfe_setValue(wfe_getForm(),STATUS,&quot;3&quot;))${/express_nodeleave}${chajianchengxu}${/chajianchengxu}${chajianchengxu_before}${/chajianchengxu_before}${banlishixian}${/banlishixian}</expression></assignment></task><transition id="e180954a-5695-4cd3-9645-2748ae155365" name="e180954a-5695-4cd3-9645-2748ae155365" to="确认入库"/></task-node><task-node name="确认入库"><event type="node-enter"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeActionQZ</handlerClassName><handlerSettings><entry><key>transitionmap</key><value>[{'name':'8caa35f1-f204-4b7b-b54d-a3429efdd0d3','code':'8caa35f1-f204-4b7b-b54d-a3429efdd0d3','to':'End','btname':'Commit'}]</value></entry></handlerSettings></action></event><task xmlns="urn:jbpm.org:jpdl-3.1"><assignment class="haiyan.wfe.jbpm.WfeAssignmentQZ"><expression>${chajianchengxu}${/chajianchengxu}${chajianchengxu_before}${/chajianchengxu_before}${banlishixian}${/banlishixian}${express_nodeleave}${/express_nodeleave}${shifouhuiqian}0${/shifouhuiqian}${kejianhuiqianyijian}0${/kejianhuiqianyijian}</expression></assignment></task><transition id="8caa35f1-f204-4b7b-b54d-a3429efdd0d3" name="8caa35f1-f204-4b7b-b54d-a3429efdd0d3" to="End"/></task-node><decision name="Decision"><handler class="haiyan.wfe.jbpm.handler.WfeScriptDecisionHandler"><script>
if (1!=1) {}
else if (haiyan.wfe.WfeJbpmFacade.checkTransition(executionContext,&quot;C3A5B4AC-D8D0-0001-C466-733094F01074&quot;)) {return &quot;1ab9c11d-bdcb-4345-bdce-e1bfba8de2e8&quot;;}
else if (haiyan.wfe.WfeJbpmFacade.checkTransition(executionContext,&quot;C3A5B4BC-8590-0001-DF79-FE00C0A01157&quot;)) {return &quot;e05125c8-905e-4509-a13c-a8008b5d768d&quot;;}
else {throw new Warning(&quot;filter not found&quot;);}
</script></handler><transition id="1ab9c11d-bdcb-4345-bdce-e1bfba8de2e8" name="1ab9c11d-bdcb-4345-bdce-e1bfba8de2e8" to="采购经理审批"/><transition id="e05125c8-905e-4509-a13c-a8008b5d768d" name="e05125c8-905e-4509-a13c-a8008b5d768d" to="普通采购确认"/></decision><end-state name="End"/><event type="process-end"><action class="haiyan.wfe.jbpm.handler.WfeActionHandler"><handlerClassName>haiyan.wfe.jbpm.WfeProcessEnd</handlerClassName></action></event></process-definition>